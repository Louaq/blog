<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DCNv4 | lab blog</title>
    <meta name="description" content="A VitePress Site">
    <meta name="generator" content="VitePress v1.2.2">
    <link rel="preload stylesheet" href="/blog/assets/style.D7vEAbTu.css" as="style">
    
    <script type="module" src="/blog/assets/app.CgWe7W-K.js"></script>
    <link rel="preload" href="/blog/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/blog/assets/chunks/framework.DGMnJK1L.js">
    <link rel="modulepreload" href="/blog/assets/chunks/theme.Diq26Wy1.js">
    <link rel="modulepreload" href="/blog/assets/column_YOLOv8_conv_article_8.md.DcbaAflk.lean.js">
    <link rel="icon" href="/logo.png">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <script id="register-sw">"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js");</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-00acfcc1><!--[--><!--]--><!--[--><span tabindex="-1" data-v-16e50ad3></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-16e50ad3> Skip to content </a><!--]--><!----><header class="VPNav" data-v-00acfcc1 data-v-79ff798f><div class="VPNavBar has-sidebar top" data-v-79ff798f data-v-80cf8dbb><div class="wrapper" data-v-80cf8dbb><div class="container" data-v-80cf8dbb><div class="title" data-v-80cf8dbb><div class="VPNavBarTitle has-sidebar" data-v-80cf8dbb data-v-25c37943><a class="title" href="/blog/" data-v-25c37943><!--[--><!--]--><!--[--><img class="VPImage logo" src="/blog/b.jpg" alt data-v-b1fd102d><!--]--><span data-v-25c37943>lab blog</span><!--[--><!--]--></a></div></div><div class="content" data-v-80cf8dbb><div class="content-body" data-v-80cf8dbb><!--[--><!--]--><div class="VPNavBarSearch search" data-v-80cf8dbb><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-80cf8dbb data-v-4f0c5d5d><span id="main-nav-aria-label" class="visually-hidden" data-v-4f0c5d5d>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/" tabindex="0" data-v-4f0c5d5d data-v-da053845><!--[--><span data-v-da053845>首页</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-4f0c5d5d data-v-8751836d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8751836d><span class="text" data-v-8751836d><!----><span data-v-8751836d>个人成长</span><span class="vpi-chevron-down text-icon" data-v-8751836d></span></span></button><div class="menu" data-v-8751836d><div class="VPMenu" data-v-8751836d data-v-899914c7><div class="items" data-v-899914c7><!--[--><!--[--><div class="VPMenuLink" data-v-899914c7 data-v-a51b327f><a class="VPLink link" href="/blog/column/Travel/" data-v-a51b327f><!--[-->大江南北游记<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-899914c7 data-v-a51b327f><a class="VPLink link" href="/blog/column/Growing/" data-v-a51b327f><!--[-->所思·所想<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-899914c7 data-v-a51b327f><a class="VPLink link" href="/blog/column/Team/" data-v-a51b327f><!--[-->团队<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-4f0c5d5d data-v-8751836d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8751836d><span class="text" data-v-8751836d><!----><span data-v-8751836d>毕业设计</span><span class="vpi-chevron-down text-icon" data-v-8751836d></span></span></button><div class="menu" data-v-8751836d><div class="VPMenu" data-v-8751836d data-v-899914c7><div class="items" data-v-899914c7><!--[--><!--[--><div class="VPMenuLink" data-v-899914c7 data-v-a51b327f><a class="VPLink link" href="/blog/column/Algorithm/" data-v-a51b327f><!--[-->毕业设计说明文档<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-899914c7 data-v-a51b327f><a class="VPLink link" href="/blog/column/Writing/" data-v-a51b327f><!--[-->论文写作思路<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-4f0c5d5d data-v-8751836d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8751836d><span class="text" data-v-8751836d><!----><span data-v-8751836d>🍉YOLOv8改进</span><span class="vpi-chevron-down text-icon" data-v-8751836d></span></span></button><div class="menu" data-v-8751836d><div class="VPMenu" data-v-8751836d data-v-899914c7><div class="items" data-v-899914c7><!--[--><!--[--><div class="VPMenuLink" data-v-899914c7 data-v-a51b327f><a class="VPLink link" href="/blog/column/YOLOv8_root/" data-v-a51b327f><!--[-->基础部分<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-899914c7 data-v-a51b327f><a class="VPLink link" href="/blog/column/YOLOv8_conv/" data-v-a51b327f><!--[-->卷积部分<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-899914c7 data-v-a51b327f><a class="VPLink link" href="/blog/column/YOLOv8_attention/" data-v-a51b327f><!--[-->注意力机制<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-4f0c5d5d data-v-8751836d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8751836d><span class="text" data-v-8751836d><!----><span data-v-8751836d>💻深度学习和人工智能</span><span class="vpi-chevron-down text-icon" data-v-8751836d></span></span></button><div class="menu" data-v-8751836d><div class="VPMenu" data-v-8751836d data-v-899914c7><div class="items" data-v-899914c7><!--[--><!--[--><div class="VPMenuLink" data-v-899914c7 data-v-a51b327f><a class="VPLink link" href="/blog/column/ai/" data-v-a51b327f><!--[-->Python基础<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-899914c7 data-v-a51b327f><a class="VPLink link" href="/blog/column/Pytorch/" data-v-a51b327f><!--[-->Pytorch<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-899914c7 data-v-a51b327f><a class="VPLink link" href="/blog/column/deepLearning/" data-v-a51b327f><!--[-->深度学习<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-899914c7 data-v-a51b327f><a class="VPLink link" href="/blog/column/Paper/" data-v-a51b327f><!--[-->论文阅读<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-80cf8dbb data-v-f84e52da><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-f84e52da data-v-ba88882d data-v-9519c81d><span class="check" data-v-9519c81d><span class="icon" data-v-9519c81d><!--[--><span class="vpi-sun sun" data-v-ba88882d></span><span class="vpi-moon moon" data-v-ba88882d></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-80cf8dbb data-v-b6af111f data-v-8751836d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8751836d><span class="vpi-more-horizontal icon" data-v-8751836d></span></button><div class="menu" data-v-8751836d><div class="VPMenu" data-v-8751836d data-v-899914c7><!----><!--[--><!--[--><!----><div class="group" data-v-b6af111f><div class="item appearance" data-v-b6af111f><p class="label" data-v-b6af111f>深浅模式</p><div class="appearance-action" data-v-b6af111f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-b6af111f data-v-ba88882d data-v-9519c81d><span class="check" data-v-9519c81d><span class="icon" data-v-9519c81d><!--[--><span class="vpi-sun sun" data-v-ba88882d></span><span class="vpi-moon moon" data-v-ba88882d></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-80cf8dbb data-v-a7d96a9f><span class="container" data-v-a7d96a9f><span class="top" data-v-a7d96a9f></span><span class="middle" data-v-a7d96a9f></span><span class="bottom" data-v-a7d96a9f></span></span></button></div></div></div></div><div class="divider" data-v-80cf8dbb><div class="divider-line" data-v-80cf8dbb></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-00acfcc1 data-v-df368b2f><div class="container" data-v-df368b2f><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-df368b2f><span class="vpi-align-left menu-icon" data-v-df368b2f></span><span class="menu-text" data-v-df368b2f>目录</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-df368b2f data-v-44276d63><button data-v-44276d63>返回顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-00acfcc1 data-v-ff5e8609><div class="curtain" data-v-ff5e8609></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-ff5e8609><span class="visually-hidden" id="sidebar-aria-label" data-v-ff5e8609> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-ff5e8609><section class="VPSidebarItem level-0 collapsible" data-v-ff5e8609 data-v-f2793d0a><div class="item" role="button" tabindex="0" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><h2 class="text" data-v-f2793d0a>第一部分</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f2793d0a><span class="vpi-chevron-right caret-icon" data-v-f2793d0a></span></div></div><div class="items" data-v-f2793d0a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_1.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>ACKconv</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_2.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>DWRSeg</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_3.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>SPD-Conv空间深度转换卷积</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_4.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>CG block</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_5.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>Diverse Branch Block多元分支模块</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_6.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>RFAConv注意力机制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_7.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>SCConv空间和通道重构卷积</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ff5e8609><section class="VPSidebarItem level-0 collapsible has-active" data-v-ff5e8609 data-v-f2793d0a><div class="item" role="button" tabindex="0" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><h2 class="text" data-v-f2793d0a>第二部分</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f2793d0a><span class="vpi-chevron-right caret-icon" data-v-f2793d0a></span></div></div><div class="items" data-v-f2793d0a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_8.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>DCNV4</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_9.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>MSBlock</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_10.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>OREPA</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_11.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>ODConv</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_12.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>SAC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_13.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>动态蛇形卷积</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_14.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>多个位置替换可变形卷积</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-ff5e8609><section class="VPSidebarItem level-0 collapsible" data-v-ff5e8609 data-v-f2793d0a><div class="item" role="button" tabindex="0" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><h2 class="text" data-v-f2793d0a>第三部分</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f2793d0a><span class="vpi-chevron-right caret-icon" data-v-f2793d0a></span></div></div><div class="items" data-v-f2793d0a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_15.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>DynamicConv</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_16.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>CSPHet</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_17.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>Haar小波的下采样HWD替换传统下采样</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_18.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>轻量化的C2f</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_19.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>FasterBlock</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_20.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>GELAN</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_21.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>CSPPC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2793d0a data-v-f2793d0a><div class="item" data-v-f2793d0a><div class="indicator" data-v-f2793d0a></div><a class="VPLink link link" href="/blog/column/YOLOv8_conv/article_22.html" data-v-f2793d0a><!--[--><p class="text" data-v-f2793d0a>ADown模块</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-00acfcc1 data-v-8d7b4445><div class="VPDoc has-sidebar has-aside" data-v-8d7b4445 data-v-12d03ff5><!--[--><!--]--><div class="container" data-v-12d03ff5><div class="aside" data-v-12d03ff5><div class="aside-curtain" data-v-12d03ff5></div><div class="aside-container" data-v-12d03ff5><div class="aside-content" data-v-12d03ff5><div class="VPDocAside" data-v-12d03ff5 data-v-4cc48384><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-4cc48384 data-v-efc0d569><div class="content" data-v-efc0d569><div class="outline-marker" data-v-efc0d569></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-efc0d569>当前大纲</div><ul class="VPDocOutlineItem root" data-v-efc0d569 data-v-6569b8df><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-4cc48384></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-12d03ff5><div class="content-container" data-v-12d03ff5><!--[--><!--]--><main class="main" data-v-12d03ff5><div style="position:relative;" class="vp-doc _blog_column_YOLOv8_conv_article_8" data-v-12d03ff5><div><h1 id="dcnv4" tabindex="-1">DCNv4 <a class="header-anchor" href="#dcnv4" aria-label="Permalink to &quot;DCNv4&quot;">​</a></h1><h2 id="一、本文介绍" tabindex="-1">一、本文介绍（💯） <a class="header-anchor" href="#一、本文介绍" aria-label="Permalink to &quot;一、本文介绍（:100:）&quot;">​</a></h2><p>本文给大家带来的改进机制是2024-1月的最新成果<strong>DCNv4</strong>，其是DCNv3的升级版本，效果可以说是在目前的卷积中名列前茅了，<strong>同时该卷积具有轻量化的效果</strong>！一个DCNv4参数量下降越15Wparameters左右。它主要通过<strong>两个方面</strong>对前一版本DCNv3进行改进：首先，它<strong>移除了空间聚合中的softmax归一化</strong>，这样做增强了其动态特性和表达能力；其次，它<strong>优化了内存访问过程</strong>，以减少冗余操作，从而加快处理速度。DCNv4的表现可以说是非常的全面，同时该网络为新发目前存在大量使用Bug我均已修复。</p><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/4aeeebafc866444498a6c639b90bc332.png" alt="" loading="lazy"></p><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/c87bfcb7dc87408bac4d34294a16b2c9.png" alt="" loading="lazy"></p><p></p><h2 id="二、dcnv4原理" tabindex="-1">二、DCNv4原理 <a class="header-anchor" href="#二、dcnv4原理" aria-label="Permalink to &quot;二、DCNv4原理&quot;">​</a></h2><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/941bf871189f4ec6a63530272a0c4781.png" alt="" loading="lazy">​</p><p><strong>论文地址：<a href="https://arxiv.org/pdf/2401.06197v1.pdf" title="论文官方地址" target="_blank" rel="noreferrer">论文官方地址</a></strong></p><p><strong>代码地址：<a href="https://arxiv.org/pdf/2401.06197v1.pdf" title="代码官方地址" target="_blank" rel="noreferrer">代码官方地址</a></strong></p><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/7ca834bc726e489d82f7d2f936d885bb.png" alt="" loading="lazy">​</p><hr><h3 id="_2-1-dcnv4的基本原理" tabindex="-1">2.1 DCNv4的基本原理 <a class="header-anchor" href="#_2-1-dcnv4的基本原理" aria-label="Permalink to &quot;2.1 DCNv4的基本原理&quot;">​</a></h3><p><strong>DCNv4（Deformable Convolution v4）<strong>是一种改进的卷积网络操作符，专为提高计算机视觉应用的效率和效果而设计。它主要通过</strong>两个方面</strong>对前一版本DCNv3进行改进：首先，它<strong>移除了空间聚合中的softmax归一化</strong>，这样做增强了其动态特性和表达能力；其次，它<strong>优化了内存访问过程</strong>，以减少冗余操作，从而加快处理速度。这些改进使DCNv4在各种视觉任务中，例如图像分类和生成，表现出更快的收敛速度和更高的处理效率。</p><p>DCNv4的<strong>主要特点</strong>可以分为以下两点：</p><p><strong>1. 动态特性增强</strong>：通过移除空间聚合中的softmax归一化，DCNv4增强了其动态特性和表达能力。<br><strong>2. 内存访问优化</strong>：DCNv4优化了内存访问过程，减少了冗余操作，从而提高了处理速度。</p><p>下图展示了<strong>DCNv4与其他空间聚合核心操作符的比较：</strong></p><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/0a923f4e0fd341acbef487e89d32c014.png" alt="" loading="lazy">​</p><p>在处理同一通道内不同位置的查询像素时：</p><p><strong>a)</strong> DCNv3使用有界（0到1范围内）动态权重聚合空间特征，采样点集（注意力集）对于每个位置是相同的。<br><strong>b)</strong> DCNv3对于每个位置使用一个专用的窗口。<br><strong>c)</strong> 传统卷积提供更灵活的无界值范围以聚合权重，并使用固定形状和大小的窗口。<br><strong>d)</strong> DCNv4结合了动态形状和大小的窗口、自适应感受野以及无界值范围的动态聚合权重，对于每个位置都是输入依赖的。</p><hr><h3 id="_2-2-动态特性增强" tabindex="-1">2.2 <strong>动态特性增强</strong> <a class="header-anchor" href="#_2-2-动态特性增强" aria-label="Permalink to &quot;2.2 **动态特性增强**&quot;">​</a></h3><p>在DCNv4中，<strong>动态特性增强</strong>的实现对于计算机视觉模型的适应性和灵活性是一个重要进步。这一特性使得DCNv4能够更加有效地处理图像中的形变和动态变化，尤其是在那些<strong>需要精细调整感受野以识别不同尺寸和形状对象的场景中</strong>。通过<strong>去除之前版本中的softmax归一化</strong>，DCNv4的每个卷积核都能自适应地调整其聚合权重，对每个像素的响应不再受到固定范围的限制。这种灵活性的增加对于提升模型在处理不同分辨率、不同尺度的物体时的性能至关重要，尤其是在图像生成和高级图像理解任务中表现得更为明显。</p><hr><h3 id="_2-3-内存访问优化" tabindex="-1">2.3 <strong>内存访问优化</strong> <a class="header-anchor" href="#_2-3-内存访问优化" aria-label="Permalink to &quot;2.3 **内存访问优化**&quot;">​</a></h3><p>下图展示了<strong>DCNv4在优化内存访问方面的改进：</strong></p><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/1dc105eb39764f2aaeae15c1c86d296c.png" alt="" loading="lazy">​</p><p>与DCNv3相比，<strong>DCNv4</strong>使用一个线程来处理同一组中的多个通道，这些通道共享采样偏移和聚合权重。这种方法减少了像内存读取和双线性插值系数计算这样的工作量，并且可以合并多个内存访问指令。结果是，DCNv4减少了内存访问需求，如图所示，与DCNv3相比，它能够减少一半的内存访问输出张量。这种优化提高了处理速度，并减少了计算资源的使用。</p><hr><h2 id="三、dcnv4的核心代码" tabindex="-1">三、DCNv4的核心代码 <a class="header-anchor" href="#三、dcnv4的核心代码" aria-label="Permalink to &quot;三、DCNv4的核心代码&quot;">​</a></h2><h3 id="_3-1-dcnv4的核心代码" tabindex="-1">3.1 DCNv4的核心代码 <a class="header-anchor" href="#_3-1-dcnv4的核心代码" aria-label="Permalink to &quot;3.1 DCNv4的核心代码&quot;">​</a></h3><p>该网络目前涉及到编译处理操作，代码结构无法进行重构组成，只能提供文件的形式给大家，小伙伴也可以通过如下的百度云链接进行下载。</p><blockquote><p>百度网盘链接：<a href="https://pan.baidu.com/s/13qjv9TzVGsC4ranCkHMCHg" target="_blank" rel="noreferrer">https://pan.baidu.com/s/13qjv9TzVGsC4ranCkHMCHg</a> <br> 提取码：Snu7</p></blockquote><hr><h3 id="_3-2-c2f-dcnv4代码" tabindex="-1">3.2 C2f_DCNv4代码 <a class="header-anchor" href="#_3-2-c2f-dcnv4代码" aria-label="Permalink to &quot;3.2 C2f\_DCNv4代码&quot;">​</a></h3><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> torch.nn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> torch</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ultralytics.nn.DCNv4_op.DCNv4.modules.dcnv4 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DCNv4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> autopad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(k, p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># kernel, padding, dilation    </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;Pad to &#39;same&#39; shape outputs.&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> isinstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(k, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> k]  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># actual kernel-size</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">is</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">//</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> isinstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(k, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">//</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> k]  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># auto-pad</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Conv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;Standard convolution with args(ch_in, ch_out, kernel, stride, padding, groups, dilation, activation).&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    default_act </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.SiLU()  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># default activation</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, c1, c2, k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, act</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;Initialize Conv layer with given arguments including activation.&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">__init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.conv </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.Conv2d(c1, c2, k, s, autopad(k, p, d), </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">groups</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">g, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">dilation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">bias</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.bn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.BatchNorm2d(c2)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.act </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.default_act </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> act </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">is</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> act </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> isinstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(act, nn.Module) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.Identity()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> forward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, x):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;Apply convolution, batch normalization and activation to input tensor.&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.act(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.bn(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.conv(x)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> forward_fuse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, x):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;Perform transposed convolution of 2D data.&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.act(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.conv(x))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Bottleneck</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;Standard bottleneck.&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, c1, c2, shortcut</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;Initializes a bottleneck module with given input/output channels, shortcut option, group, kernels, and</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        expansion.</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">__init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        c_ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(c2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># hidden channels</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.cv1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Conv(c1, c_, k[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.cv2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DCNv4(c2)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.add </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> shortcut </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">and</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> forward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, x):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;&#39;forward()&#39; applies the YOLO FPN to input data.&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.cv2(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.cv1(x)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.add </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.cv2(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.cv1(x))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> C2f_DCNv4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;Faster Implementation of CSP Bottleneck with 2 convolutions.&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, c1, c2, n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, shortcut</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;Initialize CSP bottleneck layer with two convolutions with arguments ch_in, ch_out, number, shortcut, groups,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        expansion.</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">__init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(c2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># hidden channels</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.cv1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Conv(c1, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.c, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.cv2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Conv((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.c, c2, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># optional act=FReLU(c2)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nn.ModuleList(Bottleneck(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.c, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.c, shortcut, g, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(n))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> forward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, x):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;Forward pass through C2f layer.&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.cv1(x)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x.chunk(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # y = list(self.cv1(x).chunk(2, 1))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        y.extend(m(y[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.m)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.cv2(torch.cat(y, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> forward_split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, x):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;Forward pass using split() instead of chunk().&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.cv1(x).split((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.c, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.c), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        y.extend(m(y[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.m)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.cv2(torch.cat(y, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br></div></div><h2 id="四、手把手教你使用dcnv4" tabindex="-1">四、手把手教你使用DCNv4 <a class="header-anchor" href="#四、手把手教你使用dcnv4" aria-label="Permalink to &quot;四、手把手教你使用DCNv4&quot;">​</a></h2><p>首先需要注意的是，目前该卷积尚未提供Pytorch版本，发布的版本需要编译才可以运行，Windows系统很难编译可能20个里面能编译成功一个就不错了，所以建议大家使用该结构的时候利用Linux系统来使用，进行租用服务器，不会租用服务器训练的读者，可以入群看群内视频，我已发布如何利用服务器训练的教程视频。</p><hr><h3 id="_4-1-修改一" tabindex="-1">4.1 修改一 <a class="header-anchor" href="#_4-1-修改一" aria-label="Permalink to &quot;4.1 修改一&quot;">​</a></h3><p>我们将下载好的文件复制粘贴到如下的目录文件下&#39;ultralytics/nn&#39;。粘贴后的文件目录构造如下图所示-&gt;</p><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/ecb6b5af49a14d08b3b2981c7bcc300e.png" alt="" loading="lazy"></p><hr><h3 id="_4-2-修改二" tabindex="-1">4.2 修改二 <a class="header-anchor" href="#_4-2-修改二" aria-label="Permalink to &quot;4.2 修改二&quot;">​</a></h3><p>第二步我门中到我们复制进去文件里的如下文件进行编译&#39;ultralytics/nn/DCNv4_op/make.sh&#39;，</p><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/7f72a13242934390987fd363f16fc78e.png" alt="" loading="lazy"></p><p><strong>之后弹出窗口进行编译，如果成功最后会有成功的提示的。</strong></p><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/f4e4736014564633b07805ae73904fb8.png" alt="" loading="lazy"></p><hr><h3 id="_4-3-修改三" tabindex="-1">4.3 修改三 <a class="header-anchor" href="#_4-3-修改三" aria-label="Permalink to &quot;4.3 修改三&quot;">​</a></h3><p><strong>第三步我们编译成功之后，我们就可以使用了，需要注意的是该模块无法替换主干上的普通的卷积，只能搭配C2f来使用。</strong></p><p>我们将章节3.2 中的提到的C2f_DCNv4的代码进行如下的步骤添加即可。</p><p>我们找到如下ultralytics/nn/modules文件夹下建立一个目录名字呢就是&#39;Addmodules&#39;文件夹，然后在其内部建立一个新的py文件将核心代码复制粘贴进去即可。</p><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/ea83df301e57472c8ef6b876600c7920.png" alt="" loading="lazy">​</p><hr><h3 id="_4-4-修改四" tabindex="-1">4.4 修改四 <a class="header-anchor" href="#_4-4-修改四" aria-label="Permalink to &quot;4.4 修改四&quot;">​</a></h3><p>第二步我们在该目录下创建一个新的py文件名字为&#39;__init__.py&#39;，然后在其内部导入我们的检测头如下图所示。</p><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/8b6640e1b04d4c9d832472909efd572e.png" alt="" loading="lazy"></p><hr><h3 id="_4-5-修改五" tabindex="-1">4.5 修改五 <a class="header-anchor" href="#_4-5-修改五" aria-label="Permalink to &quot;4.5 修改五&quot;">​</a></h3><p>第三步我门中到如下文件&#39;ultralytics/nn/tasks.py&#39;进行导入和注册我们的模块。</p><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/67b28bda87e44d3285f0241acd165256.png" alt="" loading="lazy"></p><hr><h3 id="_4-6-修改六" tabindex="-1">4.6 修改六 <a class="header-anchor" href="#_4-6-修改六" aria-label="Permalink to &quot;4.6 修改六&quot;">​</a></h3><p>按照我的添加在parse_model里添加即可。</p><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/afcd97d178e74860a4714bc6d2b9dc41.png" alt="" loading="lazy"></p><hr><h3 id="_4-7-修改七" tabindex="-1">4.7 修改七 <a class="header-anchor" href="#_4-7-修改七" aria-label="Permalink to &quot;4.7 修改七&quot;">​</a></h3><p>此步需要仔细修改大家不修改此步会报模型不能够定义在CPU上的错误，还是这个文件&#39;ultralytics/nn/tasks.py&#39;&#39;然后我们按照图片进行修改。</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                m.stride </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> torch.tensor([s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x.shape[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> forward(torch.zeros(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ch, s, s))])  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># forward on CPU</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            except</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> RuntimeError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                    self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.model.to(torch.device(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cuda&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    m.stride </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> torch.tensor([s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x.shape[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> forward(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        torch.zeros(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ch, s, s).to(torch.device(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cuda&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)))])  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># forward on CUDA</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                except</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> RuntimeError</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    raise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/a7f4af2f3bdb4198b8bf5c818887c336.png" alt="" loading="lazy"></p><p><strong>替换完成的样子如下图所示</strong></p><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/e59710c2613b467484462165ca2d070b.png" alt="" loading="lazy"></p><p><strong>到此就修改完成了，大家可以复制下面的yaml文件运行。</strong></p><h2 id="五、c2f-dcnv4的yaml文件和运行记录" tabindex="-1">五、C2f_DCNv4的yaml文件和运行记录 <a class="header-anchor" href="#五、c2f-dcnv4的yaml文件和运行记录" aria-label="Permalink to &quot;五、C2f\_DCNv4的yaml文件和运行记录&quot;">​</a></h2><h3 id="_5-1-c2f-dcnv4的yaml文件一" tabindex="-1">5.1 C2f_DCNv4的yaml文件一 <a class="header-anchor" href="#_5-1-c2f-dcnv4的yaml文件一" aria-label="Permalink to &quot;5.1 C2f\_DCNv4的yaml文件一&quot;">​</a></h3><p><strong>下面的添加</strong>C2f_DCNv4<strong>是我实验结果的版本。</strong></p><p><strong>C2f该还不能够替换第一个C2f也会报错，其中的原因我还没来得及去看。</strong></p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Ultralytics YOLO 🚀, AGPL-3.0 license</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8 object detection model with P3-P5 outputs. For Usage examples see https://docs.ultralytics.com/tasks/detect</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Parameters</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nc: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # number of classes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scales: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># model compound scaling constants, i.e. &#39;model=yolov8n.yaml&#39; will call yolov8.yaml with scale &#39;n&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # [depth, width, max_channels]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  n: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.33</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8n summary: 225 layers,  3157200 parameters,  3157184 gradients,   8.9 GFLOPs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  s: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.33</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8s summary: 225 layers, 11166560 parameters, 11166544 gradients,  28.8 GFLOPs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  m: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.67</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.75</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">768</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8m summary: 295 layers, 25902640 parameters, 25902624 gradients,  79.3 GFLOPs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  l: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.00</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.00</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8l summary: 365 layers, 43691520 parameters, 43691504 gradients, 165.7 GFLOPs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  x: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.00</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8x summary: 365 layers, 68229648 parameters, 68229632 gradients, 258.5 GFLOPs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8.0n backbone</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">backbone:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # [from, repeats, module, args]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Conv, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 0-P1/2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Conv, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">128</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1-P2/4</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">128</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Conv, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3-P3/8</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f_DCNv4, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Conv, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 5-P4/16</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f_DCNv4, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Conv, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 7-P5/32</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f_DCNv4, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SPPF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 9</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8.0n head</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">head:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, nn.Upsample, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nearest&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Concat, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cat backbone P4</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 12</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, nn.Upsample, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nearest&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Concat, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cat backbone P3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 15 (P3/8-small)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Conv, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Concat, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cat head P4</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 18 (P4/16-medium)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Conv, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Concat, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cat head P5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 21 (P5/32-large)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">21</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Detect, [nc]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Detect(P3, P4, P5)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><hr><h3 id="_5-2-c2f-dcnv4的yaml文件二" tabindex="-1">5.2 C2f_DCNv4的yaml文件二 <a class="header-anchor" href="#_5-2-c2f-dcnv4的yaml文件二" aria-label="Permalink to &quot;5.2 C2f\_DCNv4的yaml文件二&quot;">​</a></h3><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Ultralytics YOLO 🚀, AGPL-3.0 license</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8 object detection model with P3-P5 outputs. For Usage examples see https://docs.ultralytics.com/tasks/detect</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Parameters</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nc: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # number of classes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scales: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># model compound scaling constants, i.e. &#39;model=yolov8n.yaml&#39; will call yolov8.yaml with scale &#39;n&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # [depth, width, max_channels]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  n: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.33</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8n summary: 225 layers,  3157200 parameters,  3157184 gradients,   8.9 GFLOPs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  s: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.33</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8s summary: 225 layers, 11166560 parameters, 11166544 gradients,  28.8 GFLOPs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  m: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.67</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.75</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">768</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8m summary: 295 layers, 25902640 parameters, 25902624 gradients,  79.3 GFLOPs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  l: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.00</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.00</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8l summary: 365 layers, 43691520 parameters, 43691504 gradients, 165.7 GFLOPs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  x: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.00</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8x summary: 365 layers, 68229648 parameters, 68229632 gradients, 258.5 GFLOPs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8.0n backbone</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">backbone:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # [from, repeats, module, args]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Conv, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 0-P1/2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Conv, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">128</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1-P2/4</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">128</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Conv, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3-P3/8</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Conv, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 5-P4/16</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Conv, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 7-P5/32</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SPPF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 9</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># YOLOv8.0n head</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">head:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, nn.Upsample, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nearest&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Concat, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cat backbone P4</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f_DCNv4, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 12</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, nn.Upsample, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nearest&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Concat, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cat backbone P3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f_DCNv4, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 15 (P3/8-small)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Conv, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Concat, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cat head P4</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f_DCNv4, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 18 (P4/16-medium)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Conv, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">512</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Concat, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cat head P5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, C2f_DCNv4, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 21 (P5/32-large)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">21</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Detect, [nc]] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Detect(P3, P4, P5)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><hr><h3 id="_5-3-c2f-dcnv4的训练过程截图" tabindex="-1">5.3 C2f_DCNv4的训练过程截图 <a class="header-anchor" href="#_5-3-c2f-dcnv4的训练过程截图" aria-label="Permalink to &quot;5.3 C2f\_DCNv4的训练过程截图&quot;">​</a></h3><p><img src="https://yangyang666.oss-cn-chengdu.aliyuncs.com/typoraImages/2537a6b5179e49e0b3ecea90dfbefe98.png" alt="" loading="lazy"></p></div></div></main><footer class="VPDocFooter" data-v-12d03ff5 data-v-8c1a54d7><!--[--><!--]--><div class="edit-info" data-v-8c1a54d7><div class="edit-link" data-v-8c1a54d7><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/Louaq/blog/tree/main/docs/column/YOLOv8_conv/article_8.md" target="_blank" rel="noreferrer" data-v-8c1a54d7><!--[--><span class="vpi-square-pen edit-link-icon" data-v-8c1a54d7></span> 在github上编辑此页面<!--]--></a></div><div class="last-updated" data-v-8c1a54d7><p class="VPLastUpdated" data-v-8c1a54d7 data-v-3d86a3e1>最后更新于: <time datetime="2024-08-23T11:15:24.000Z" data-v-3d86a3e1></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-8c1a54d7><span class="visually-hidden" id="doc-footer-aria-label" data-v-8c1a54d7>Pager</span><div class="pager" data-v-8c1a54d7><a class="VPLink link pager-link prev" href="/blog/column/YOLOv8_conv/article_7.html" data-v-8c1a54d7><!--[--><span class="desc" data-v-8c1a54d7>上一页</span><span class="title" data-v-8c1a54d7>SCConv空间和通道重构卷积</span><!--]--></a></div><div class="pager" data-v-8c1a54d7><a class="VPLink link pager-link next" href="/blog/column/YOLOv8_conv/article_9.html" data-v-8c1a54d7><!--[--><span class="desc" data-v-8c1a54d7>下一页</span><span class="title" data-v-8c1a54d7>MSBlock</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-00acfcc1 data-v-f4ca5fbe><div class="container" data-v-f4ca5fbe><p class="message" data-v-f4ca5fbe>Released under the MIT License.</p><p class="copyright" data-v-f4ca5fbe>Copyright © 2013-2024 present louaq</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"column_algorithm_stack.md\":\"Y7ICrVmy\",\"column_paper_index.md\":\"BX3EezMQ\",\"column_writing_results.md\":\"UQbgb-KK\",\"column_writing_introduction.md\":\"Juhs3cCi\",\"column_algorithm_tree.md\":\"D9-iL3a1\",\"column_writing_experiment.md\":\"D73pu8JQ\",\"column_writing_index.md\":\"Iupkk2sz\",\"column_yolov8_attention_index.md\":\"CjNPFc67\",\"api-examples.md\":\"B3Rsv4TK\",\"column_yolov8_root_article_6.md\":\"BGET7Kp-\",\"column_yolov8_conv_article_3.md\":\"fPORmLso\",\"column_algorithm_dictionary.md\":\"DqVLenwd\",\"column_team_index.md\":\"C5hCtnXd\",\"column_travel_index.md\":\"eyxnBbUq\",\"column_pytorch_index.md\":\"DzU5Y3WZ\",\"column_yolov8_attention_article_6.md\":\"D8MzxhDF\",\"column_yolov8_attention_article_3.md\":\"BLLxpXmc\",\"column_yolov8_conv_article_14.md\":\"BWWDJRoC\",\"column_yolov8_attention_article_8.md\":\"B29JF0AM\",\"column_yolov8_conv_article_1.md\":\"mROoi5l7\",\"column_yolov8_conv_article_6.md\":\"BoN6Knp8\",\"column_yolov8_conv_article_7.md\":\"r6b-mMSh\",\"markdown-examples.md\":\"BGraNgwv\",\"index.md\":\"BlEi9EdN\",\"column_deeplearning_index.md\":\"BYx_ZvmT\",\"column_yolov8_conv_index.md\":\"Pj8Ahkya\",\"column_yolov8_conv_article_8.md\":\"DcbaAflk\",\"column_yolov8_conv_article_9.md\":\"StA25bjk\",\"column_yolov8_conv_article_19.md\":\"XIaF9wcf\",\"column_yolov8_root_article_10.md\":\"n8wJJP-3\",\"column_yolov8_root_article_13.md\":\"CrHOlItU\",\"column_yolov8_root_article_3.md\":\"DNeHky1o\",\"column_yolov8_root_article_14.md\":\"D8bUdMXm\",\"column_yolov8_root_article_9.md\":\"CwK17YOh\",\"column_ai_day02.md\":\"SCbKwVFA\",\"column_yolov8_root_article_12.md\":\"CWcwhMpM\",\"column_yolov8_root_index.md\":\"CKAp18We\",\"column_yolov8_root_article_4.md\":\"BdsFr_wy\",\"column_ai_day01.md\":\"BprcnW51\",\"column_ai_index.md\":\"hgCqf6vD\",\"column_yolov8_attention_article_9.md\":\"CMxE7m0A\",\"column_yolov8_conv_article_2.md\":\"C6Mpp_vD\",\"column_yolov8_conv_article_17.md\":\"kx05UYxX\",\"column_yolov8_conv_article_18.md\":\"Dcn0Rguv\",\"column_yolov8_attention_article_7.md\":\"D-mcvOTy\",\"column_yolov8_conv_article_11.md\":\"DYOLOMPO\",\"column_yolov8_conv_article_5.md\":\"BxT3y4sm\",\"column_algorithm_queue.md\":\"DNSesOGW\",\"column_yolov8_attention_article_10.md\":\"CgrUAmaR\",\"column_writing_abstract.md\":\"BMes0kcy\",\"column_algorithm_index.md\":\"D_UrBM6h\",\"column_yolov8_conv_article_4.md\":\"BqOo7BDv\",\"column_growing_index.md\":\"CaXgW5j-\",\"column_yolov8_attention_article_2.md\":\"BHB24HMr\",\"column_yolov8_conv_article_13.md\":\"dwrTVme-\",\"column_yolov8_attention_article_1.md\":\"CFdhPSKI\",\"column_yolov8_conv_article_15.md\":\"CvakAaCY\",\"column_yolov8_attention_article_5.md\":\"kRzeLnUu\",\"column_yolov8_root_article_1.md\":\"CKk53yjV\",\"column_yolov8_root_article_11.md\":\"CJMGraNj\",\"column_yolov8_conv_article_20.md\":\"svpMY9A5\",\"column_yolov8_root_article_8.md\":\"CT-TZWYY\",\"column_yolov8_attention_article_4.md\":\"LFcMidUN\",\"column_yolov8_conv_article_21.md\":\"CpVTGsP9\",\"column_yolov8_conv_article_22.md\":\"CGUqR4Hd\",\"column_yolov8_conv_article_16.md\":\"B_NEg8SW\",\"column_yolov8_root_article_2.md\":\"C763T2kS\",\"column_yolov8_conv_article_12.md\":\"BU-eLy-r\",\"column_yolov8_conv_article_10.md\":\"2Z25TENv\",\"column_yolov8_root_article_5.md\":\"BIoUdeaF\",\"column_yolov8_root_article_7.md\":\"CyWjG45u\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"lab blog\",\"description\":\"A VitePress Site\",\"base\":\"/blog/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"darkModeSwitchLabel\":\"深浅模式\",\"logo\":\"/b.jpg\",\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"个人成长\",\"items\":[{\"text\":\"大江南北游记\",\"link\":\"/column/Travel/\"},{\"text\":\"所思·所想\",\"link\":\"/column/Growing/\"},{\"text\":\"团队\",\"link\":\"/column/Team/\"}]},{\"text\":\"毕业设计\",\"items\":[{\"text\":\"毕业设计说明文档\",\"link\":\"/column/Algorithm/\"},{\"text\":\"论文写作思路\",\"link\":\"/column/Writing/\"}]},{\"text\":\"🍉YOLOv8改进\",\"items\":[{\"text\":\"基础部分\",\"link\":\"/column/YOLOv8_root/\"},{\"text\":\"卷积部分\",\"link\":\"/column/YOLOv8_conv/\"},{\"text\":\"注意力机制\",\"link\":\"/column/YOLOv8_attention/\"}]},{\"text\":\"💻深度学习和人工智能\",\"items\":[{\"text\":\"Python基础\",\"link\":\"/column/ai/\"},{\"text\":\"Pytorch\",\"link\":\"/column/Pytorch/\"},{\"text\":\"深度学习\",\"link\":\"/column/deepLearning/\"},{\"text\":\"论文阅读\",\"link\":\"/column/Paper/\"}]}],\"sidebarMenuLabel\":\"目录\",\"returnToTopLabel\":\"返回顶部\",\"sidebar\":{\"/column/Algorithm/\":[{\"text\":\"论文指导\",\"collapsed\":false,\"items\":[{\"text\":\"环境安装\",\"link\":\"/column/Algorithm/Stack\"},{\"text\":\"模型训练\",\"link\":\"/column/Algorithm/Queue\"}]},{\"text\":\"结果分析\",\"collapsed\":false,\"items\":[{\"text\":\"测试\",\"link\":\"/column/Algorithm/Dictionary\"},{\"text\":\"真实图像预测\",\"link\":\"/column/Algorithm/Tree\"}]}],\"/column/Writing/\":[{\"text\":\"第一部分\",\"collapsed\":false,\"items\":[{\"text\":\"摘要\",\"link\":\"/column/Writing/Abstract\"},{\"text\":\"介绍\",\"link\":\"/column/Writing/Introduction\"}]},{\"text\":\"第二部分\",\"collapsed\":false,\"items\":[{\"text\":\"实验\",\"link\":\"/column/Writing/Experiment\"},{\"text\":\"结果\",\"link\":\"/column/Writing/Results\"}]}],\"/column/YOLOv8_root/\":[{\"text\":\"第一部分\",\"collapsed\":false,\"items\":[{\"text\":\"YOLOv8简介\",\"link\":\"/column/YOLOv8_root/article_1\"},{\"text\":\"恒源云训练数据\",\"link\":\"/column/YOLOv8_root/article_2\"},{\"text\":\"YOLOv8目录结构\",\"link\":\"/column/YOLOv8_root/article_3\"},{\"text\":\"YOLOv8网络结构分析\",\"link\":\"/column/YOLOv8_root/article_4\"},{\"text\":\"YOLOv8可视化热力图\",\"link\":\"/column/YOLOv8_root/article_5\"},{\"text\":\"YOLOv8参数分析\",\"link\":\"/column/YOLOv8_root/article_6\"},{\"text\":\"改进YOLOv8\",\"link\":\"/column/YOLOv8_root/article_7\"}]},{\"text\":\"第二部分\",\"collapsed\":false,\"items\":[{\"text\":\"Roboflow\",\"link\":\"/column/YOLOv8_root/article_8\"},{\"text\":\"数据增强\",\"link\":\"/column/YOLOv8_root/article_9\"},{\"text\":\"可视化热力图\",\"link\":\"/column/YOLOv8_root/article_10\"},{\"text\":\"评估指标\",\"link\":\"/column/YOLOv8_root/article_11\"},{\"text\":\"YOLOv8绘图功能\",\"link\":\"/column/YOLOv8_root/article_12\"},{\"text\":\"自定义数据集\",\"link\":\"/column/YOLOv8_root/article_13\"},{\"text\":\"报错\",\"link\":\"/column/YOLOv8_root/article_14\"}]}],\"/column/YOLOv8_conv/\":[{\"text\":\"第一部分\",\"collapsed\":false,\"items\":[{\"text\":\"ACKconv\",\"link\":\"/column/YOLOv8_conv/article_1\"},{\"text\":\"DWRSeg\",\"link\":\"/column/YOLOv8_conv/article_2\"},{\"text\":\"SPD-Conv空间深度转换卷积\",\"link\":\"/column/YOLOv8_conv/article_3\"},{\"text\":\"CG block\",\"link\":\"/column/YOLOv8_conv/article_4\"},{\"text\":\"Diverse Branch Block多元分支模块\",\"link\":\"/column/YOLOv8_conv/article_5\"},{\"text\":\"RFAConv注意力机制\",\"link\":\"/column/YOLOv8_conv/article_6\"},{\"text\":\"SCConv空间和通道重构卷积\",\"link\":\"/column/YOLOv8_conv/article_7\"}]},{\"text\":\"第二部分\",\"collapsed\":false,\"items\":[{\"text\":\"DCNV4\",\"link\":\"/column/YOLOv8_conv/article_8\"},{\"text\":\"MSBlock\",\"link\":\"/column/YOLOv8_conv/article_9\"},{\"text\":\"OREPA\",\"link\":\"/column/YOLOv8_conv/article_10\"},{\"text\":\"ODConv\",\"link\":\"/column/YOLOv8_conv/article_11\"},{\"text\":\"SAC\",\"link\":\"/column/YOLOv8_conv/article_12\"},{\"text\":\"动态蛇形卷积\",\"link\":\"/column/YOLOv8_conv/article_13\"},{\"text\":\"多个位置替换可变形卷积\",\"link\":\"/column/YOLOv8_conv/article_14\"}]},{\"text\":\"第三部分\",\"collapsed\":false,\"items\":[{\"text\":\"DynamicConv\",\"link\":\"/column/YOLOv8_conv/article_15\"},{\"text\":\"CSPHet\",\"link\":\"/column/YOLOv8_conv/article_16\"},{\"text\":\"Haar小波的下采样HWD替换传统下采样\",\"link\":\"/column/YOLOv8_conv/article_17\"},{\"text\":\"轻量化的C2f\",\"link\":\"/column/YOLOv8_conv/article_18\"},{\"text\":\"FasterBlock\",\"link\":\"/column/YOLOv8_conv/article_19\"},{\"text\":\"GELAN\",\"link\":\"/column/YOLOv8_conv/article_20\"},{\"text\":\"CSPPC\",\"link\":\"/column/YOLOv8_conv/article_21\"},{\"text\":\"ADown模块\",\"link\":\"/column/YOLOv8_conv/article_22\"}]}],\"/column/YOLOv8_attention/\":[{\"text\":\"第一部分\",\"collapsed\":false,\"items\":[{\"text\":\"BiFormer\",\"link\":\"/column/YOLOv8_attention/article_1\"},{\"text\":\"Triplet Attention\",\"link\":\"/column/YOLOv8_attention/article_2\"},{\"text\":\"多尺度空洞注意力\",\"link\":\"/column/YOLOv8_attention/article_3\"},{\"text\":\"LSKAttention\",\"link\":\"/column/YOLOv8_attention/article_4\"},{\"text\":\"HAttention注意力机制\",\"link\":\"/column/YOLOv8_attention/article_5\"},{\"text\":\"聚焦线性注意力\",\"link\":\"/column/YOLOv8_attention/article_6\"},{\"text\":\"可变形大核注意力\",\"link\":\"/column/YOLOv8_attention/article_7\"}]},{\"text\":\"第二部分\",\"collapsed\":false,\"items\":[{\"text\":\"DAT\",\"link\":\"/column/YOLOv8_attention/article_8\"},{\"text\":\"ACmix\",\"link\":\"/column/YOLOv8_attention/article_9\"},{\"text\":\"RCS-OSA模块\",\"link\":\"/column/YOLOv8_attention/article_10\"}]}],\"/column/ai/\":[{\"text\":\"第一部分\",\"collapsed\":false,\"items\":[{\"text\":\"Python的基础知识\",\"link\":\"/column/ai/day01\"},{\"text\":\"列表\",\"link\":\"/column/ai/day02\"}]}]},\"lastUpdated\":{\"text\":\"最后更新于\",\"formatOptions\":{\"dateStyle\":\"full\",\"timeStyle\":\"medium\"}},\"editLink\":{\"pattern\":\"https://github.com/Louaq/blog/tree/main/docs/:path\",\"text\":\"在github上编辑此页面\"},\"outline\":{\"level\":[2,6],\"label\":\"当前大纲\"},\"docFooter\":{\"prev\":\"上一页\",\"next\":\"下一页\"},\"search\":{\"provider\":\"local\"},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2013-2024 present louaq\"},\"i18nRouting\":true},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>